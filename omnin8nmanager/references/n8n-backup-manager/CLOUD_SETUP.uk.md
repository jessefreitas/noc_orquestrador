# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ö–º–∞—Ä–Ω–∏—Ö –∫–æ–ø—ñ–π v1.3.5

–¶–µ–π –ø–æ—Å—ñ–±–Ω–∏–∫ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–∫—Ä–æ–∫–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ö–º–∞—Ä–Ω–∏—Ö —Å—Ö–æ–≤–∏—â —É n8n Backup Manager.

## üìÅ –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏
- **Google Drive** (—á–µ—Ä–µ–∑ Service Account –∞–±–æ OAuth2)
- **Microsoft OneDrive** (—á–µ—Ä–µ–∑ Refresh Token)
- **S3 Compatible** (AWS S3, MinIO, DigitalOcean Spaces —Ç–æ—â–æ)

---

## üü¢ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Google Drive

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É –≤ Google Cloud
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ [Google Cloud Console](https://console.cloud.google.com/).
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –ø—ñ–¥ –Ω–∞–∑–≤–æ—é "n8n Backup Manager".
3. –£–≤—ñ–º–∫–Ω—ñ—Ç—å **Google Drive API** —É —Ä–æ–∑–¥—ñ–ª—ñ "APIs & Services" > "Library".

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (Service Account - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ "APIs & Services" > "Credentials".
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create Credentials" > **Service Account**.
3. –ü—Ä–æ–π–¥—ñ—Ç—å –∫—Ä–æ–∫–∏ (–º–æ–∂–Ω–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ) —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Done.
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –Ω–æ–≤–æ—Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Å–µ—Ä–≤—ñ—Å–Ω–∏–π –∞–∫–∞—É–Ω—Ç.
5. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Keys** > "Add Key" > "Create new key".
6. –í–∏–±–µ—Ä—ñ—Ç—å **JSON** —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª.
7. **–í–∞–∂–ª–∏–≤–æ:** –°–∫–æ–ø—ñ—é–π—Ç–µ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞.

### 3. –ù–∞–¥–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–∞–ø–∫–∏
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Google –î–∏—Å–∫.
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "n8n Backups").
3. –ü—Ä–∞–≤–æ—é –∫–Ω–æ–ø–∫–æ—é –Ω–∞ –ø–∞–ø–∫—É > "Share" (–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è).
4. –í—Å—Ç–∞–≤—Ç–µ –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤—ñ—Å–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∞ —Ç–∞ –Ω–∞–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ **–†–µ–¥–∞–∫—Ç–æ—Ä–∞**.
5. –°–∫–æ–ø—ñ—é–π—Ç–µ **ID –ø–∞–ø–∫–∏** –∑ URL-–∞–¥—Ä–µ—Å–∏ (—Ä—è–¥–æ–∫ –ø—ñ—Å–ª—è `folders/`).

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Backup Manager
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** > **Cloud Configuration**.
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ **Google Drive**.
3. –í—Å—Ç–∞–≤—Ç–µ –≤–º—ñ—Å—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ–≥–æ JSON-—Ñ–∞–π–ª—É –≤ –ø–æ–ª–µ **Credentials JSON**.
4. –í—Å—Ç–∞–≤—Ç–µ **Folder ID**.
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.

### 5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OAuth2 (–©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º –∑ –∫–≤–æ—Ç–æ—é)
–Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –æ—Å–æ–±–∏—Å—Ç–∏–π Gmail —ñ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫—É "Service Accounts do not have storage quota", —Å–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—è OAuth2:
1. –£ Google Cloud Console —Å—Ç–≤–æ—Ä—ñ—Ç—å **OAuth 2.0 Client IDs** –∑–∞–º—ñ—Å—Ç—å Service Account.
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ **Client ID**, **Client Secret** —Ç–∞ **Refresh Token** (–º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ [OAuth 2.0 Playground](https://developers.google.com/oauthplayground/)).
3. –£ Backup Manager –≤—Å—Ç–∞–≤—Ç–µ –¥–∞–Ω—ñ —É —Ç–∞–∫–æ–º—É JSON —Ñ–æ—Ä–º–∞—Ç—ñ:
```json
{
  "client_id": "–¢–í–Ü–ô_ID",
  "client_secret": "–¢–í–Ü–ô_–°–ï–ö–†–ï–¢",
  "refresh_token": "–¢–í–Ü–ô_–¢–û–ö–ï–ù"
}
```
4. –¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–∞—à–µ –æ—Å–æ–±–∏—Å—Ç–µ —Å—Ö–æ–≤–∏—â–µ (15–ì–ë+), –¥–µ –Ω–µ–º–∞—î –æ–±–º–µ–∂–µ–Ω—å –¥–ª—è —Å–µ—Ä–≤—ñ—Å–Ω–∏—Ö –∞–∫–∞—É–Ω—Ç—ñ–≤.

---

## üîµ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Microsoft OneDrive

### 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–æ–≥—Ä–∞–º–∏ –≤ Azure
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ [Azure Portal - App Registrations](https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationsListBlade).
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New Registration**.
3. –ù–∞–∑–≤—ñ—Ç—å "n8n Backup Manager".
4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Redirect URI (Web) –Ω–∞ `http://localhost:3000/api/updates/callback/onedrive` (–∞–±–æ –≤–∞—à—É –ø—É–±–ª—ñ—á–Ω—É –∞–¥—Ä–µ—Å—É).
5. –°–∫–æ–ø—ñ—é–π—Ç–µ **Application (client) ID**.

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É API
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **API permissions**.
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add a permission** > **Microsoft Graph**.
3. –í–∏–±–µ—Ä—ñ—Ç—å **Delegated permissions**.
4. –ó–Ω–∞–π–¥—ñ—Ç—å —Ç–∞ –¥–æ–¥–∞–π—Ç–µ: `Files.ReadWrite.All`, `offline_access`.
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Grant admin consent** (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω–æ).

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Client Secret
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Certificates & secrets** > **New client secret**.
2. –°–∫–æ–ø—ñ—é–π—Ç–µ **Value** (–Ω–µ Secret ID).

### 4. –û—Ç—Ä–∏–º–∞–Ω–Ω—è Refresh Token
–û—Å–∫—ñ–ª—å–∫–∏ —Ä—É—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è refresh token —î —Å–∫–ª–∞–¥–Ω–∏–º –ø—Ä–æ—Ü–µ—Å–æ–º, Backup Manager —É –º–∞–π–±—É—Ç–Ω—ñ—Ö –æ–Ω–æ–≤–ª–µ–Ω–Ω—è—Ö –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π OAuth –ø–æ—Ç—ñ–∫. –ù–∞—Ä–∞–∑—ñ –≤–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ –∫—à—Ç–∞–ª—Ç [Rclone](https://rclone.org/onedrive/) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–æ–∫–µ–Ω–∞ –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ n8n, —è–∫—â–æ –≤–æ–Ω–∏ —É –≤–∞—Å —î.

### 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Backup Manager
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** > **Cloud Configuration**.
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ **OneDrive**.
3. –í—Å—Ç–∞–≤—Ç–µ **Refresh Token**, **Client ID** —Ç–∞ **Client Secret**.
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.

---

## üü° S3 –°—É–º—ñ—Å–Ω–µ —Å—Ö–æ–≤–∏—â–µ

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ –≤–∞—à—ñ **Access Key**, **Secret Key** —Ç–∞ **Endpoint** –≤—ñ–¥ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, AWS, MinIO).
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –ë–∞–∫–µ—Ç (Bucket).
3. –£ Backup Manager –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ **S3**.
4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –¥–∞–Ω—ñ:
   - **Endpoint** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `s3.us-east-1.amazonaws.com`)
   - **Region** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `us-east-1`)
   - **Bucket Name**
   - **Access Key ID**
   - **Secret Access Key**
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è.
